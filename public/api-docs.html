<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation - JobSearch Platform</title>
    <meta name="description" content="Complete API documentation for JobSearch platform. Integrate job search into your application.">
    <link rel="icon" type="image/svg+xml" href="/assets/images/linkedin-jobs-search.svg">

    <!-- Tailwind CSS & Fonts -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Fira+Code:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- CSS Files -->
    <link rel="stylesheet" href="/css/variables.css">
    <link rel="stylesheet" href="/css/gradients.css">
    <link rel="stylesheet" href="/css/navigation.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="/css/pages/api-docs.css">
</head>
<body class="bg-slate-50">
    <!-- Navigation (loaded dynamically) -->
    <div data-include="navigation"></div>

    <!-- API Docs Content -->
    <div class="api-docs-container">
        <!-- Sidebar -->
        <aside class="api-sidebar glass-card">
            <h2 class="sidebar-title">Documentation</h2>
            <nav class="sidebar-nav">
                <a href="#introduction" class="nav-item active">Introduction</a>
                <a href="#authentication" class="nav-item">Authentication</a>
                <a href="#endpoints" class="nav-item">Endpoints</a>
                <a href="#search" class="nav-item">Search Jobs</a>
                <a href="#parameters" class="nav-item">Parameters</a>
                <a href="#examples" class="nav-item">Code Examples</a>
                <a href="#errors" class="nav-item">Error Handling</a>
                <a href="#rate-limits" class="nav-item">Rate Limits</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="api-content">
            <!-- Introduction -->
            <section id="introduction" class="doc-section">
                <h1 class="section-heading">API Documentation</h1>
                <p class="section-text">
                    Welcome to the JobSearch API! Our RESTful API allows you to integrate LinkedIn job search capabilities directly into your application.
                </p>
                <div class="info-box glass-card">
                    <div class="info-icon">ℹ️</div>
                    <div>
                        <h3 class="info-title">Base URL</h3>
                        <code class="inline-code">https://linkedin-jobs-search.vercel.app/api</code>
                    </div>
                </div>
            </section>

            <!-- Authentication -->
            <section id="authentication" class="doc-section">
                <h2 class="section-title">Authentication</h2>
                <p class="section-text">
                    Currently, the API does not require authentication for basic usage. Premium features require an API key.
                </p>
                <div class="code-block-wrapper">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre class="code-block"><code>// Include API key in headers (for premium users)
headers: {
  'Authorization': 'Bearer YOUR_API_KEY',
  'Content-Type': 'application/json'
}</code></pre>
                </div>
            </section>

            <!-- Endpoints -->
            <section id="endpoints" class="doc-section">
                <h2 class="section-title">Available Endpoints</h2>
                <div class="endpoint-list">
                    <div class="endpoint-card glass-card">
                        <div class="endpoint-method method-get">GET</div>
                        <div class="endpoint-info">
                            <div class="endpoint-path">/api</div>
                            <div class="endpoint-desc">Health check and API information</div>
                        </div>
                    </div>

                    <div class="endpoint-card glass-card">
                        <div class="endpoint-method method-post">POST</div>
                        <div class="endpoint-info">
                            <div class="endpoint-path">/api/jobs/search</div>
                            <div class="endpoint-desc">Search for jobs with advanced filters</div>
                        </div>
                    </div>

                    <div class="endpoint-card glass-card">
                        <div class="endpoint-method method-get">GET</div>
                        <div class="endpoint-info">
                            <div class="endpoint-path">/api/geo-stats</div>
                            <div class="endpoint-desc">Get GEO monitoring statistics</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Search Endpoint -->
            <section id="search" class="doc-section">
                <h2 class="section-title">POST /api/jobs/search</h2>
                <p class="section-text">
                    Search for jobs with comprehensive filtering options.
                </p>

                <h3 class="subsection-title">Request Body</h3>
                <div class="code-block-wrapper">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre class="code-block"><code>{
  "keyword": "software engineer",
  "location": "San Francisco",
  "dateSincePosted": "past week",
  "jobType": "full time",
  "remoteFilter": "remote",
  "salary": "100000",
  "experienceLevel": "senior",
  "sortBy": "recent",
  "limit": "10",
  "page": "0",
  "has_verification": true,
  "under_10_applicants": false
}</code></pre>
                </div>

                <h3 class="subsection-title">Response</h3>
                <div class="code-block-wrapper">
                    <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                    <pre class="code-block"><code>{
  "success": true,
  "data": [
    {
      "jobTitle": "Senior Software Engineer",
      "company": "Tech Company Inc.",
      "location": "San Francisco, CA",
      "salary": "$120K - $180K",
      "jobType": "Full-time",
      "posted": "2 days ago",
      "link": "https://linkedin.com/jobs/...",
      "description": "..."
    }
  ],
  "totalResults": 156,
  "page": 0,
  "limit": 10
}</code></pre>
                </div>
            </section>

            <!-- Parameters -->
            <section id="parameters" class="doc-section">
                <h2 class="section-title">Search Parameters</h2>
                <div class="params-table">
                    <table class="glass-card">
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>keyword</code></td>
                                <td>string</td>
                                <td>Job title or skills to search</td>
                                <td>"software developer"</td>
                            </tr>
                            <tr>
                                <td><code>location</code></td>
                                <td>string</td>
                                <td>City, state, or "Remote"</td>
                                <td>"New York"</td>
                            </tr>
                            <tr>
                                <td><code>dateSincePosted</code></td>
                                <td>string</td>
                                <td>Time filter</td>
                                <td>"past week", "24hr"</td>
                            </tr>
                            <tr>
                                <td><code>salary</code></td>
                                <td>string</td>
                                <td>Minimum salary</td>
                                <td>"80000", "100000"</td>
                            </tr>
                            <tr>
                                <td><code>jobType</code></td>
                                <td>string</td>
                                <td>Employment type</td>
                                <td>"full time", "contract"</td>
                            </tr>
                            <tr>
                                <td><code>remoteFilter</code></td>
                                <td>string</td>
                                <td>Work location type</td>
                                <td>"remote", "hybrid"</td>
                            </tr>
                            <tr>
                                <td><code>experienceLevel</code></td>
                                <td>string</td>
                                <td>Required experience</td>
                                <td>"senior", "entry level"</td>
                            </tr>
                            <tr>
                                <td><code>sortBy</code></td>
                                <td>string</td>
                                <td>Sort order</td>
                                <td>"recent", "relevant"</td>
                            </tr>
                            <tr>
                                <td><code>limit</code></td>
                                <td>string</td>
                                <td>Results per page</td>
                                <td>"10", "50"</td>
                            </tr>
                            <tr>
                                <td><code>page</code></td>
                                <td>string</td>
                                <td>Page number (0-indexed)</td>
                                <td>"0", "1"</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Code Examples -->
            <section id="examples" class="doc-section">
                <h2 class="section-title">Code Examples</h2>

                <!-- Language Tabs -->
                <div class="code-tabs">
                    <button class="tab-btn active" onclick="switchTab('javascript')">JavaScript</button>
                    <button class="tab-btn" onclick="switchTab('python')">Python</button>
                    <button class="tab-btn" onclick="switchTab('curl')">cURL</button>
                </div>

                <!-- JavaScript Example -->
                <div id="javascript-code" class="code-example">
                    <div class="code-block-wrapper">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre class="code-block"><code>// Fetch API example
const searchJobs = async () => {
  const response = await fetch('https://linkedin-jobs-search.vercel.app/api/jobs/search', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      keyword: 'frontend developer',
      location: 'San Francisco',
      remoteFilter: 'remote',
      salary: '100000',
      limit: '20'
    })
  });

  const data = await response.json();
  console.log(data);
};

searchJobs();</code></pre>
                    </div>
                </div>

                <!-- Python Example -->
                <div id="python-code" class="code-example" style="display: none;">
                    <div class="code-block-wrapper">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre class="code-block"><code>import requests

url = 'https://linkedin-jobs-search.vercel.app/api/jobs/search'

payload = {
    'keyword': 'frontend developer',
    'location': 'San Francisco',
    'remoteFilter': 'remote',
    'salary': '100000',
    'limit': '20'
}

response = requests.post(url, json=payload)
data = response.json()

print(data)</code></pre>
                    </div>
                </div>

                <!-- cURL Example -->
                <div id="curl-code" class="code-example" style="display: none;">
                    <div class="code-block-wrapper">
                        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                        <pre class="code-block"><code>curl -X POST https://linkedin-jobs-search.vercel.app/api/jobs/search \
  -H "Content-Type: application/json" \
  -d '{
    "keyword": "frontend developer",
    "location": "San Francisco",
    "remoteFilter": "remote",
    "salary": "100000",
    "limit": "20"
  }'</code></pre>
                    </div>
                </div>
            </section>

            <!-- Errors -->
            <section id="errors" class="doc-section">
                <h2 class="section-title">Error Handling</h2>
                <p class="section-text">
                    The API uses standard HTTP status codes to indicate success or failure.
                </p>

                <div class="error-codes">
                    <div class="error-card glass-card">
                        <div class="error-code code-200">200</div>
                        <div class="error-info">
                            <h4 class="error-title">OK</h4>
                            <p class="error-desc">Request successful</p>
                        </div>
                    </div>

                    <div class="error-card glass-card">
                        <div class="error-code code-400">400</div>
                        <div class="error-info">
                            <h4 class="error-title">Bad Request</h4>
                            <p class="error-desc">Invalid parameters</p>
                        </div>
                    </div>

                    <div class="error-card glass-card">
                        <div class="error-code code-429">429</div>
                        <div class="error-info">
                            <h4 class="error-title">Too Many Requests</h4>
                            <p class="error-desc">Rate limit exceeded</p>
                        </div>
                    </div>

                    <div class="error-card glass-card">
                        <div class="error-code code-500">500</div>
                        <div class="error-info">
                            <h4 class="error-title">Server Error</h4>
                            <p class="error-desc">Internal server error</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Rate Limits -->
            <section id="rate-limits" class="doc-section">
                <h2 class="section-title">Rate Limits</h2>
                <p class="section-text">
                    To ensure fair usage, API requests are rate limited based on your plan.
                </p>

                <div class="rate-limit-table glass-card">
                    <table>
                        <thead>
                            <tr>
                                <th>Plan</th>
                                <th>Requests</th>
                                <th>Window</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Free</strong></td>
                                <td>100 requests</td>
                                <td>per 15 minutes</td>
                            </tr>
                            <tr>
                                <td><strong>Pro</strong></td>
                                <td>1000 requests</td>
                                <td>per 15 minutes</td>
                            </tr>
                            <tr>
                                <td><strong>Enterprise</strong></td>
                                <td>Custom</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="cta-box glass-card-strong">
                    <h3 class="cta-title">Need higher limits?</h3>
                    <p class="cta-text">Upgrade to Pro or contact us for Enterprise pricing.</p>
                    <div class="cta-buttons">
                        <a href="pricing.html" class="btn-cta-glow">View Pricing</a>
                        <a href="mailto:chanmeng.dev@gmail.com" class="btn-cta-outline">Contact Sales</a>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Footer (loaded dynamically) -->
    <div data-include="footer"></div>

    <!-- JavaScript -->
    <script src="/js/components/navigation.js"></script>
    <script src="/js/components/includes.js"></script>
    <script>
      // Tab switching
      function switchTab(lang) {
        // Hide all code examples
        document.querySelectorAll('.code-example').forEach(el => el.style.display = 'none');
        // Remove active class from all tabs
        document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));

        // Show selected code example
        document.getElementById(lang + '-code').style.display = 'block';
        // Add active class to clicked tab
        event.target.classList.add('active');
      }

      // Copy code functionality
      function copyCode(button) {
        const codeBlock = button.nextElementSibling.querySelector('code');
        const text = codeBlock.textContent;

        navigator.clipboard.writeText(text).then(() => {
          button.textContent = 'Copied!';
          button.style.background = 'rgba(34, 197, 94, 0.3)';

          setTimeout(() => {
            button.textContent = 'Copy';
            button.style.background = '';
          }, 2000);
        });
      }

      // Smooth scroll for sidebar links
      document.querySelectorAll('.nav-item').forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const targetId = link.getAttribute('href');
          const target = document.querySelector(targetId);

          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // Update active link
            document.querySelectorAll('.nav-item').forEach(l => l.classList.remove('active'));
            link.classList.add('active');
          }
        });
      });
    </script>
</body>
</html>
